{"ast":null,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar request = require('request-promise');\n\nvar nodeify = require('./utils/nodeify');\n\nvar _require = require('./utils/razorpay-utils'),\n    isNonNullObject = _require.isNonNullObject;\n\nvar allowedHeaders = {\n  \"X-Razorpay-Account\": \"\",\n  \"Content-Type\": \"application/json\"\n};\n\nfunction getValidHeaders(headers) {\n  var result = {};\n\n  if (!isNonNullObject(headers)) {\n    return result;\n  }\n\n  return Object.keys(headers).reduce(function (result, headerName) {\n    if (allowedHeaders.hasOwnProperty(headerName)) {\n      result[headerName] = headers[headerName];\n    }\n\n    return result;\n  }, result);\n}\n\nfunction normalizeError(err) {\n  throw {\n    statusCode: err.statusCode,\n    error: err.error.error\n  };\n}\n\nvar API = function () {\n  function API(options) {\n    _classCallCheck(this, API);\n\n    this.rq = request.defaults({\n      baseUrl: options.hostUrl,\n      json: true,\n      auth: {\n        user: options.key_id,\n        pass: options.key_secret\n      },\n      headers: Object.assign({\n        'User-Agent': options.ua\n      }, getValidHeaders(options.headers))\n    });\n  }\n\n  _createClass(API, [{\n    key: 'get',\n    value: function get(params, cb) {\n      return nodeify(this.rq.get({\n        url: params.url,\n        qs: params.data\n      }).catch(normalizeError), cb);\n    }\n  }, {\n    key: 'post',\n    value: function post(params, cb) {\n      var isNotForm = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var request = {\n        url: params.url,\n        form: params.data\n      };\n\n      if (isNotForm) {\n        delete request['form'];\n        request.body = params.data;\n      }\n\n      return nodeify(this.rq.post(request).catch(normalizeError), cb);\n    }\n  }, {\n    key: 'put',\n    value: function put(params, cb) {\n      return nodeify(this.rq.put({\n        url: params.url,\n        form: params.data\n      }).catch(normalizeError), cb);\n    }\n  }, {\n    key: 'patch',\n    value: function patch(params, cb) {\n      return nodeify(this.rq.patch({\n        url: params.url,\n        form: params.data\n      }).catch(normalizeError), cb);\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(params, cb) {\n      return nodeify(this.rq.delete({\n        url: params.url\n      }).catch(normalizeError), cb);\n    }\n  }]);\n\n  return API;\n}();\n\nmodule.exports = API;","map":{"version":3,"sources":["/Users/neerajchettiar/Documents/FSWD/zomato-master/client/node_modules/razorpay/dist/api.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","request","require","nodeify","_require","isNonNullObject","allowedHeaders","getValidHeaders","headers","result","keys","reduce","headerName","hasOwnProperty","normalizeError","err","statusCode","error","API","options","rq","defaults","baseUrl","hostUrl","json","auth","user","key_id","pass","key_secret","assign","ua","value","get","params","cb","url","qs","data","catch","post","isNotForm","form","body","put","patch","_delete","delete","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar request = require('request-promise');\nvar nodeify = require('./utils/nodeify');\n\nvar _require = require('./utils/razorpay-utils'),\n    isNonNullObject = _require.isNonNullObject;\n\nvar allowedHeaders = {\n  \"X-Razorpay-Account\": \"\",\n  \"Content-Type\": \"application/json\"\n};\n\nfunction getValidHeaders(headers) {\n\n  var result = {};\n\n  if (!isNonNullObject(headers)) {\n\n    return result;\n  }\n\n  return Object.keys(headers).reduce(function (result, headerName) {\n\n    if (allowedHeaders.hasOwnProperty(headerName)) {\n\n      result[headerName] = headers[headerName];\n    }\n\n    return result;\n  }, result);\n}\n\nfunction normalizeError(err) {\n  throw {\n    statusCode: err.statusCode,\n    error: err.error.error\n  };\n}\n\nvar API = function () {\n  function API(options) {\n    _classCallCheck(this, API);\n\n    this.rq = request.defaults({\n      baseUrl: options.hostUrl,\n      json: true,\n      auth: {\n        user: options.key_id,\n        pass: options.key_secret\n      },\n      headers: Object.assign({ 'User-Agent': options.ua }, getValidHeaders(options.headers))\n    });\n  }\n\n  _createClass(API, [{\n    key: 'get',\n    value: function get(params, cb) {\n      return nodeify(this.rq.get({\n        url: params.url,\n        qs: params.data\n      }).catch(normalizeError), cb);\n    }\n  }, {\n    key: 'post',\n    value: function post(params, cb, isNotForm = false) {\n      var request = {\n        url: params.url,\n        form: params.data\n      };\n\n      if (isNotForm) {\n        delete request['form'];\n        request.body = params.data;\n      }\n\n      return nodeify(this.rq.post(request).catch(normalizeError), cb);\n    }\n  }, {\n    key: 'put',\n    value: function put(params, cb) {\n      return nodeify(this.rq.put({\n        url: params.url,\n        form: params.data\n      }).catch(normalizeError), cb);\n    }\n  }, {\n    key: 'patch',\n    value: function patch(params, cb) {\n      return nodeify(this.rq.patch({\n        url: params.url,\n        form: params.data\n      }).catch(normalizeError), cb);\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(params, cb) {\n      return nodeify(this.rq.delete({\n        url: params.url\n      }).catch(normalizeError), cb);\n    }\n  }]);\n\n  return API;\n}();\n\nmodule.exports = API;"]},"metadata":{},"sourceType":"script"}