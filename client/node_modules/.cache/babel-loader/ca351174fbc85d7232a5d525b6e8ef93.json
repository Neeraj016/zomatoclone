{"ast":null,"code":"import _regeneratorRuntime from \"/Users/neerajchettiar/Documents/FSWD/zomato-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/neerajchettiar/Documents/FSWD/zomato-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\"; // Redux types\n\nimport { SIGN_IN, SIGN_UP, GOOGLE_AUTH, SIGN_OUT } from \"./Auth.type\"; // redux actions\n\nimport { getMyself, clearUser } from \"../User/user.action\";\nexport var signIn = function signIn(userData) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var User;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios({\n                method: \"POST\",\n                url: \"http://localhost:4000/auth/signin\",\n                data: {\n                  credentials: userData\n                }\n              });\n\n            case 3:\n              User = _context.sent;\n              getMyself();\n              localStorage.setItem(\"zomatoUser\", JSON.stringify({\n                token: User.data.token\n              }));\n              return _context.abrupt(\"return\", dispatch({\n                type: SIGN_IN,\n                payload: User.data\n              }));\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              return _context.abrupt(\"return\", dispatch({\n                type: \"ERROR\",\n                payload: _context.t0\n              }));\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var googleAuth = function googleAuth(token) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              localStorage.setItem(\"zomatoUser\", JSON.stringify({\n                token: token\n              }));\n              getMyself();\n              return _context2.abrupt(\"return\", dispatch({\n                type: GOOGLE_AUTH,\n                payload: {}\n              }));\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              return _context2.abrupt(\"return\", dispatch({\n                type: \"ERROR\",\n                payload: _context2.t0\n              }));\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var signOut = function signOut() {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              localStorage.removeItem(\"zomatoUser\");\n              clearUser();\n              window.location.href = \"http://localhost:3000/delivery\";\n              return _context3.abrupt(\"return\", dispatch({\n                type: SIGN_OUT,\n                payload: {}\n              }));\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              return _context3.abrupt(\"return\", dispatch({\n                type: \"ERROR\",\n                payload: _context3.t0\n              }));\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var signUp = function signUp(userData) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var User;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return axios({\n                method: \"POST\",\n                url: \"http://localhost:4000/auth/signup\",\n                data: {\n                  credentials: userData\n                }\n              });\n\n            case 3:\n              User = _context4.sent;\n              getMyself();\n              localStorage.setItem(\"zomatoUser\", JSON.stringify({\n                token: User.data.token\n              }));\n              return _context4.abrupt(\"return\", dispatch({\n                type: SIGN_UP,\n                payload: User.data\n              }));\n\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](0);\n              return _context4.abrupt(\"return\", dispatch({\n                type: \"ERROR\",\n                payload: _context4.t0\n              }));\n\n            case 12:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 9]]);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["/Users/neerajchettiar/Documents/FSWD/zomato-master/client/src/Redux/Reducer/Auth/Auth.action.js"],"names":["axios","SIGN_IN","SIGN_UP","GOOGLE_AUTH","SIGN_OUT","getMyself","clearUser","signIn","userData","dispatch","method","url","data","credentials","User","localStorage","setItem","JSON","stringify","token","type","payload","googleAuth","signOut","removeItem","window","location","href","signUp"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\n// Redux types\nimport { SIGN_IN, SIGN_UP, GOOGLE_AUTH, SIGN_OUT } from \"./Auth.type\";\n\n// redux actions\nimport { getMyself, clearUser } from \"../User/user.action\";\n\nexport const signIn = (userData) => async (dispatch) => {\n  try {\n    const User = await axios({\n      method: \"POST\",\n      url: `http://localhost:4000/auth/signin`,\n      data: { credentials: userData },\n    });\n\n    getMyself();\n\n    localStorage.setItem(\n      \"zomatoUser\",\n      JSON.stringify({ token: User.data.token })\n    );\n\n    return dispatch({ type: SIGN_IN, payload: User.data });\n  } catch (error) {\n    return dispatch({ type: \"ERROR\", payload: error });\n  }\n};\nexport const googleAuth = (token) => async (dispatch) => {\n  try {\n    localStorage.setItem(\"zomatoUser\", JSON.stringify({ token }));\n\n    getMyself();\n\n    return dispatch({ type: GOOGLE_AUTH, payload: {} });\n  } catch (error) {\n    return dispatch({ type: \"ERROR\", payload: error });\n  }\n};\n\nexport const signOut = () => async (dispatch) => {\n  try {\n    localStorage.removeItem(\"zomatoUser\");\n    clearUser();\n    window.location.href = \"http://localhost:3000/delivery\";\n    \n    return dispatch({ type: SIGN_OUT, payload: {} });\n  } catch (error) {\n    return dispatch({ type: \"ERROR\", payload: error });\n  }\n};\n\nexport const signUp = (userData) => async (dispatch) => {\n  try {\n    const User = await axios({\n      method: \"POST\",\n      url: `http://localhost:4000/auth/signup`,\n      data: { credentials: userData },\n    });\n\n    getMyself();\n\n    localStorage.setItem(\n      \"zomatoUser\",\n      JSON.stringify({ token: User.data.token })\n    );\n\n    return dispatch({ type: SIGN_UP, payload: User.data });\n  } catch (error) {\n    return dispatch({ type: \"ERROR\", payload: error });\n  }\n};"]},"metadata":{},"sourceType":"module"}